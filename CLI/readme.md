Командный интерпретатор

Центральная сущность - сессия интерпретатора, принимающая команду и возвращающая результат её выполнения.

Перед выполнением конвейер команд преобразуется в абстрактное синтаксическое дерево парсером.
Парсер разбивает каждое звено на токены, выбирает команду и аргументы и создаёт элемент дерева.

Сами команды представлены как реализации интерфейса Command.
Предусмотрено три типа команд: встроенная, внешняя и команда присвоения.

У каждой сессии интерпретатора есть своё окружение с переменными.
Команда присвоения принимает такое окружение и позволяет присваивать переменным указанные значения.

Потоки нужны для передачи ввода, вывода и передачи вывода следующей команде конвейера.

[Диагрграмма классов: ](https://creately.com/diagram/jdp00tf01/OC3aSHlf4l9uDnqfGrAyj6igE%3D)

Для разбора аргументов команды grep используется библиотека apache commons-cli. Также рассматривались jopt и jsap. Выбор пал на apache commons из-за доступной документации и поддерживаемого состояния библиотеки.